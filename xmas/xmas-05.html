<!DOCTYPE html>
<html>
  <!-- https://aframe.io/aframe-school/#/7/1 -->
  <head>
    <title>Merry Xmas from Belfrage</title>
    <meta name="description" content="Merry Xmas from Belfrage" />
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <!-- aframe-animation-component -->
    <!--<script src="https://unpkg.com/aframe-animation-component@%5E3.2.x/dist/aframe-animation-component.min.js"></script>-->
    <!-- aframe-particle-system-component -->
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>

    <!--<script>
      AFRAME.registerComponent('school-playground', {

        init: function () {

          var sceneEl = document.querySelector('a-scene');

          for (var i = 0; i <2; i++) {
            var scaleMax = Math.random();
            var pineEl = document.createElement('a-gltf-model');
            pineEl.setAttribute('gltf-model', 'forrest/PUSHILIN_forest.gltf')
            pineEl.setAttribute('position', {x: Math.random() * 20 - 10, y:-3, z: Math.random() * 20 - 10});
            pineEl.setAttribute('scale', {x: scaleMax+5 , y: scaleMax+3 , z: scaleMax+3});
            //sceneEl.appendChild(pineEl);
          }



        }
      });
    </script>-->
  </head>
  <body>
    <a-scene school-playground>
      <a-assets>
        <img id="displacement" src="snow/snow_02_disp_1k.jpg">
        <img id="normalmap" src="snow/snow_02_nor_1k.jpg">
        <a-asset-item id="snowman" src="snowman/model.gltf"></a-asset-item>
        <a-asset-item id="presents" src="presents/model.gltf"></a-asset-item>
        <a-asset-item id="santa" src="santa/model.gltf"></a-asset-item>
        <a-asset-item id="christmastree" src="christmastree/christmastree.gltf"></a-asset-item>
        <a-asset-item id="pine" src="pine/model.gltf"></a-asset-item>
        <a-asset-item id="forrest" src="forrest/PUSHILIN_forest.gltf"></a-asset-item>

        <!--<audio
          id="background"
          src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav"
        ></audio>-->
      </a-assets>
      <a-sky
        src="https://cdn.glitch.com/3bea33eb-bc48-4167-81d2-04a68b27c82a%2Fstars2.jpg?v=1605366060804"
      ></a-sky>

      <a-entity
        particle-system="preset: snow; particleCount: 10000; size:1"
      ></a-entity>

      <a-text
        text="font: mozillavr; align: center; width: 4; color: red; value:Merry Christmas from the Belfrage family"
        position="0.2 4 -4"
        scale="3 3 3"
        animation="property: object3D.position.x;
        to: -0.2;
        dir: alternate;
        dur: 2000;
        loop: true"
      ></a-text>

      <a-gltf-model
        src="#snowman"
        position="-1 4 -3"
        scale="2 2 2"
        rotation="0 -90 0"
      ></a-gltf-model>

      <a-gltf-model
        src="#santa"
        position="0 -4.2 -3"
        scale="4 4 4"
      ></a-gltf-model>

      <a-gltf-model
        src="#presents"
        position="0 1 -5"
        scale="1 1 1"
      ></a-gltf-model>

      <a-gltf-model
        src="#christmastree"
        position="0 0 -10"
        scale="0.04 0.04 0.04"
      ></a-gltf-model>

      <a-gltf-model
        src="#santa"
        position="3 0 -7"
        scale="3 3 3"
      ></a-gltf-model>

      <a-gltf-model
        src="#forrest"
        position="0 1.5 <-15></-15>"
        scale="4 4 4"
      ></a-gltf-model>

      <a-plane
        src="https://cdn.glitch.com/3bea33eb-bc48-4167-81d2-04a68b27c82a%2Fsnow_02_rough_1k.jpg?v=1605364776582"
        displacement-map="#displacement"
        displacement-bias="0"
        displacement-scale="1"
        displacement-texture-repeat="5 5"

        normal-map="#normalmap"
        normal-scale="1"
        normal-texture-offset="1 1"
        normal-texture-repeat="2 2"

        repeat="10 10"
        rotation="-90 0 0"
        position="0 0 0"
        height="100"
        width="100"
        scale="0.5 0.5 0.5"
        segments-height="10"
        segments-width="10"


      ></a-plane>

    <a-entity
        id="sky"
        geometry="primitive: sphere; radius: 1000"
        material="color: #000; shader: flat; side: back"
      ></a-entity>
      <a-entity light="type: ambient; color: #444"></a-entity>

      <a-entity
        light="type: spot; color: #000"
        position="-1 2 10"
        intensity="0.1"
        distance="1"
        decay="1"
        castShadow="true"
        angle="180"
      ></a-entity>
    </a-scene>
  </body>
</html>
